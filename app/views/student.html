<div class="container">
    <div class="row">
        <div class="col-md-3">
            <sea-transaction-log
                transactions="student_ctrl.transactions">
            </sea-transaction-log>
            <sea-student-notes
                studentId="student_ctrl.student.id">
            </sea-student-notes>
        </div>
        <div class="col-md-9">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-md-8">
                            <strong>
                                {{student_ctrl.student.last_name}},
                                {{student_ctrl.student.first_name}}
                            </strong>
                            <span ng-if="isAuthorized(userRoles.advisor)"
                                class="label label-md"
                                ng-repeat="label in student_ctrl.student.labels"
                                style="background-color:{{label.color}};">
                                {{label.name}}
                            </span>                        
                        </div>
                        <div class="col-md-4">
                            <sea-student-action
                                class="pull-right"
                                student="student_ctrl.student"
                                title="'Actions'">
                            </sea-student-action>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-3">
                            <strong>Email:</strong>
                            <p>
                                {{student_ctrl.student.email}}
                            </p>
                        </div>
                        <div class="col-md-3">
                            <strong>Advisor:</strong>
                            <p>
                                {{student_ctrl.student.advisor.first_name}}
                                {{student_ctrl.student.advisor.last_name}}
                            </p>
                        </div>
                        <div class="col-md-3">
                            <strong>Status:</strong>
                            <p>
                                {{student_ctrl.student.student_type}}
                            </p>
                        </div>
                        <div class="col-md-3">
                            <strong>Com Sub Plan:</strong>
                            <p>
                                {{student_ctrl.student.com_sub_plan}}
                            </p>
                        </div>              
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <strong>First Enrolled Term:</strong>
                            <p>
                                {{student_ctrl.student.first_enrolled_term}}
                            </p>
                        </div>
                        <div class="col-md-3">
                            <strong>Expected Graduation:</strong>
                            <p>
                                {{student_ctrl.student.expected_graduation}}
                            </p>
                        </div>             
                    </div>
                    <div class="panel panel-default"
                        ng-if="student_ctrl.student.program_detail">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-md-2 pull-right">
                                    <a class="btn btn-default btn-block"
                                        ng-href="#/students/{{student_ctrl.student.id}}/program_detail/edit">
                                        Edit
                                    </a>
                                </div>
                                <div class="col-md-10">
                                    <strong>
                                        {{student_ctrl.student.program_detail.academic_plan}}
                                    </strong>
                                </div>
                            </div>
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <strong>Application Domain</strong>
                                    <p>
                                        {{student_ctrl.student.program_detail.application_domain}}
                                    </p>
                                    <strong>Submitted</strong>
                                    <p>
                                        {{student_ctrl.student.program_detail.application_domain_submitted_date | date: 'medium'}}
                                    </p>
                                </div>
                                <div class="col-md-6">
                                    <strong>Minor</strong>
                                    <p>
                                        {{student_ctrl.student.program_detail.minor}}
                                    </p>
                                    <strong>Submited</strong>
                                    <p>
                                        {{student_ctrl.student.program_detail.minor_submitted_date | date: 'medium'}}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="alert alert-warning"
                        ng-if="!student_ctrl.student.program_detail">
                        <div class="row">
                            <div class="col-md-1">
                                <i class="fa fa-warning"></i>
                            </div>
                            <div class="col-md-11">
                                This student has no <strong>Program Details</strong>.
                                Please add <strong>Program Details</strong> using the Action Menu on the right. 
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6"
                            ng-if="student_ctrl.student.cop_in">
                            <div class="panel panel-info">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div class="col-md-4 pull-right">
                                            <a class="pull-right btn btn-default"
                                                ng-href="#/students/{{student_ctrl.student.id}}/cop_in/edit">
                                                Edit
                                            </a>
                                        </div>
                                        <div class="col-md-8">
                                            <strong>Change of Program In</strong>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <i>This student has applied for a change of program into the Software Engineering Department</i>
                                    <hr/>
                                    <p>
                                        <b>Effective Term:</b>
                                        {{student_ctrl.student.cop_in.effective_term}}
                                    </p>
                                    <p>
                                        <b>Former Plan:</b>
                                        {{student_ctrl.student.cop_in.former_plan}}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6"
                            ng-if="student_ctrl.student.cop_out">
                            <div class="panel panel-info">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div class="col-md-4 pull-right">
                                            <a class="btn btn-default pull-right"
                                                ng-href="#/students/{{student_ctrl.student.id}}/cop_out/edit">
                                                Edit
                                            </a>
                                        </div>
                                        <div class="col-md-8">
                                            <strong>Change of Program Out</strong>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <i>This student has applied for a change of program out of the Software Engineering Department</i>
                                    <hr/>
                                    <p>
                                        <b>Code: </b>
                                        {{student_ctrl.student.cop_out.code}}
                                    </p>
                                    <p>
                                        <b>New Plan: </b>
                                        {{student_ctrl.student.cop_out.new_plan}}
                                    </p>
                                    <p>
                                        <b>Effective Term: </b>
                                        {{student_ctrl.student.cop_out.effective_term}}
                                    </p>
                                    <p>
                                        <b>Application Status: </b>
                                        {{student_ctrl.student.cop_out.application_status}}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="panel panel-info">
                                <div class="panel-heading">
                                    Audit History
                                </div>
                                <div class="panel-body">
                                    <i ng-show="!student_ctrl.student.audits.length">
                                        This student does not have an audit history
                                    </i>
                                    <ul class="list-group">
                                        <li class="list-group-item row"
                                            ng-repeat="audit in 
                                            (filteredItems = (student_ctrl.student.audits | orderBy: 'date_performed':true))">
                                            <div class="col-md-4">
                                                <p>
                                                    <b>Date Performed:</b>
                                                    {{audit.date_performed |
                                                    date: "MM/dd/yyyy"}}
                                                </p>
                                            </div>
                                            <div class="col-md-8">
                                                <p>
                                                    <b>Comments:</b>
                                                    {{audit.comment}}
                                                </p>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>                              
                        <div class="col-md-6">
                            <div class="panel panel-info">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div class="col-md-4 pull-right">
                                            <a class="btn btn-default pull-right"
                                                ng-href="#/students/{{student_ctrl.student.id}}/coops/new">
                                                Add <i class="fa fa-plus"></i>
                                            </a>
                                        </div>
                                        <div class="col-md-8">
                                            <p><strong>Co-Op</strong></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <i ng-show="!student_ctrl.student.coops.length">
                                        This student has not registered any co-ops
                                    </i>
                                    <ul class="list-group">
                                        <li class="list-group-item"
                                            ng-repeat="coop in student_ctrl.student.coops">
                                            <p>{{coop.company_name}}
                                                <a class="btn btn-sm btn-default pull-right"
                                                    ng-href="#/students/{{student_ctrl.student.id}}/coops/{{coop.id}}/edit">
                                                    Edit
                                                </a>
                                            </p>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="panel panel-info" ng-if="student_ctrl.student.senior_project">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div class="col-md-4 pull-right">
                                            <a class="btn btn-default pull-right"
                                                ng-href="#/students/{{student_ctrl.student.id}}/senior_project/edit">
                                                Edit
                                            </a>
                                        </div>
                                        <div class="col-md-8">
                                            <strong>
                                                Senior Project
                                            </strong>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <p>
                                        <b>Status:</b>
                                        {{student_ctrl.student.senior_project.status}}
                                    </p>
                                    <p>
                                        <b>End Term:</b>
                                        {{student_ctrl.student.senior_project.end_term}}
                                    </p>
                                    <p>
                                        <b>Cert Term Projected:</b>
                                        {{student_ctrl.student.senior_project.cert_term_projected}}
                                    </p>
                                    <p>
                                        <b>Cert Term Certified:</b>
                                        {{student_ctrl.student.senior_project.cert_term_certified}}
                                    </p>
                                    <p>
                                        <b>Ceremony Term:</b>
                                        {{student_ctrl.student.senior_project.ceremony_term}}
                                    </p>
                                    <p>
                                        <b>Grad App. Submitted Date</b>
                                        {{student_ctrl.student.senior_project.grad_app_submitted_date | date: 'medium'}}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>  
</div>